
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Neutron</title>
    <link rel="icon" href="" id="dynamic-favicon">
    <script src="/js/settings.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Reset default margin and padding */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Basic styling for header and navigation */
        body {
            background-color: #101720; /* Background color set to white */
            font-family: Impact, sans-serif; /* Fallback font */
        }

        header {
            height: 8vh; /* Adjusted to 8% of viewport height */
            background-color: #101720; /* Background color set to #101720 */
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            position: relative; /* Enable relative positioning */
        }

        /* Logo styling */
        .logo {
            display: flex;
            align-items: center;
            margin-left: -5px; /* Adjusted to 20px from the left side of the screen */
            text-decoration: none; /* Remove underline */
            color: white; /* Text color */
        }

        .logo img {
            height: 6vh; /* Adjusted to 6% of viewport height */
            margin-right: 20px; /* Space between logo and text */
        }

        .logo-text {
            font-family: Impact, sans-serif; /* Use Impact font */
            font-weight: 300; /* Font weight adjusted to 300 */
            font-size: 1.6rem; /* Increased font size for Project Neutron text */
            color: white; /* Adjust text color */
            position: relative; /* Enable relative positioning */
        }

        /* Navigation text styling */
        .nav-text {
            font-family: Impact, sans-serif; /* Use Impact font */
            font-weight: 100; /* Font weight adjusted to 100 */
            font-size: 1.2rem; /* Adjust font size as needed */
            color: white; /* Adjust text color */
            text-decoration: none; /* Remove underline */
            margin-right: 50px; /* Adjust space between navigation items */
            position: relative; /* Enable relative positioning */
        }

        .nav-text::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: -5px; /* Adjust position as needed */
            width: 0;
            height: 3px; /* Height of the underline */
            background-color: white; /* Underline color */
            transition: width 0.3s ease, left 0.3s ease;
        }

        .nav-text:hover::after {
            width: 100%;
            left: 0;
        }

        /* Thin line */
        .top-line {
            position: absolute;
            top: 100%; /* Positioned 100% from the top */
            left: 0;
            width: 100%;
            height: 1.5px; /* 1.5px height for the line */
            background-color: #303747; /* Color set to #303747 */
        }

        /* Rectangle styling */
        .rectangle {
            height: 75%; /* Height set to 70% */
            width: 175px; /* Increased width */
            background-color: transparent; /* Background color set to transparent */
            border-radius: 10px; /* Rounded edges */
            border: 2px solid #d4af37; /* Darker gold outline */
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease; /* Add transition for smooth animation */
        }

        .rectangle:hover {
            transform: scale(1.1); /* Scale up the rectangle on hover */
        }

        .rectangle-text {
            font-family: Impact, sans-serif; /* Use Impact font */
            font-weight: 300; /* Font weight adjusted to 300 */
            font-size: 1.2rem; /* Font size for the text */
            color: #d4af37; /* Darker gold color for the text */
            text-decoration: none; /* Remove underline */
            padding: 10px; /* Add padding for better click area */
        }

        /* Positioning */
        .home-text {
            position: absolute;
            left: 270px; /* Original position for Home */
            top: 50%; /* Align vertically */
            transform: translateY(-50%); /* Center vertically */
        }

        .games-text {
            position: absolute;
            left: 335px; /* Original position for Games */
            top: 50%; /* Align vertically */
            transform: translateY(-50%); /* Center vertically */
        }

        .apps-text {
            position: absolute;
            left: 410px; /* Original position for Apps */
            top: 50%; /* Align vertically */
            transform: translateY(-50%); /* Center vertically */
        }

        .movies-text {
            position: absolute;
            left: 470px; /* Original position for Movies */
            top: 50%; /* Align vertically */
            transform: translateY(-50%); /* Center vertically */
        }

        .tv-text {
            position: absolute;
            left: 547px; /* Original position for TV Shows */
            top: 50%; /* Align vertically */
            transform: translateY(-50%); /* Center vertically */
        }
        
        /* Time display styling */
        .time-display {
            font-family: Impact, sans-serif; /* Use Impact font */
            font-weight: 300; /* Font weight adjusted to 300 */
            font-size: 1.8rem; /* Font size for the time */
            color: white; /* Text color */
            position: absolute;
            right: 20px; /* Space from the right edge */
            top: 50%; /* Align vertically */
            transform: translateY(-50%); /* Center vertically */
        }
        
        /* Positioning for social icons and time display */
        .social-icons {
            display: flex;
            align-items: center;
            margin-right: 155px; /* Adjust space from the time display */
            margin-left: auto; /* Push icons to the left */
        }

        .social-icon {
            font-family: Impact, sans-serif; /* Use Impact font */
            font-size: 1.15rem; /* Size of the icons */
            color: white; /* Icon color */
            margin-right: 10px; /* Reduced space between icons */
            transition: color 0.3s ease, background 0.3s ease; /* Smooth color transition on hover */
            position: relative; /* Relative positioning for background */
        }

        .social-icon:hover {
            color: white; /* Default color stays white for hover */
        }

        /* Specific hover colors */
        .social-icon.snap:hover {
            color: #FFFC00; /* Snapchat color */
        }

        .social-icon.discord:hover {
            color: #5865F2; /* Discord color */
        }

        .social-icon.instagram:hover {
            color: #C13584;
        }

        .social-icon.tiktok:hover {
            color: #FE2c55; /* TikTok color */
        }

        .social-icon.youtube:hover {
            color: #FF0000; /* YouTube color */
        }
        
        .centered-text {
            position: absolute;
            left: 50%; /* Updated position */
            top: 16vh;
            transform: translate(-50%, -50%);
            font-family: Impact, sans-serif;
            font-weight: 300;
            font-size: 3rem;
            color: white;
        }

        .themes-text {
            position: absolute;
            left: 50%; /* Updated position */
            top: 35vh;
            transform: translate(-50%, -50%);
            font-family: Impact, sans-serif;
            font-weight: 300;
            font-size: 1.5rem;
            color: white;
        }

        .cloak-text {
            position: absolute;
            left: 50%; /* Updated position */
            top: 52.5vh;
            transform: translate(-50%, -50%);
            font-family: Impact, sans-serif;
            font-weight: 300;
            font-size: 1.5rem;
            color: white;
        }
        
        #ab-cloak {
            position: absolute;
            left: 50%; /* Center the button horizontally */
            top: 22vh; /* Position 20px below the search bar */
            transform: translateX(-50%); /* Center the button horizontally */
            background-color: transparent; /* Transparent background */
            color: white; /* White text color */
            font-family: Impact, sans-serif; /* Font family */
            font-size: 1.2rem; /* Font size */
            border: 1.5px solid #fff; /* 1.5px white border */
            border-radius: 12px; /* Rounded corners */
            padding: 10px 20px; /* Padding for button */
            cursor: pointer; /* Pointer cursor on hover */
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease; /* Smooth transition */
            transform-origin: center; /* Scale from the center */
        }

        #ab-cloak:hover {
            background-color: #303747; /* Slightly visible white background on hover */
            color: #fff; /* Ensure text remains white on hover */
            transform: translateX(-50%) scale(1.1); /* Slightly enlarge the button on hover */
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3); /* Add shadow for 3D effect */
        }
        
        /* Dropdown styling */
        .dropdown {
            position: absolute;
            left: 50%; /* Center the dropdown horizontally */
            top: 39vh; /* Position it appropriately on the page */
            transform: translateX(-50%); /* Center the dropdown horizontally */
            background-color: transparent; /* Transparent background */
            color: white; /* White text color */
            font-family: Impact, sans-serif; /* Font family */
            font-size: 1.2rem; /* Font size */
            border: 1.5px solid #fff; /* 1.5px white border */
            border-radius: 12px; /* Rounded corners */
            padding: 10px 20px; /* Padding for dropdown */
            cursor: pointer; /* Pointer cursor on hover */
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease; /* Smooth transition */
            transform-origin: center; /* Scale from the center */
        }

        .dropdown:hover {
            background-color: #303747; /* Slightly visible white background on hover */
            color: #fff; /* Ensure text remains white on hover */
            transform: translateX(-50%) scale(1.1); /* Slightly enlarge the dropdown on hover */
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3); /* Add shadow for 3D effect */
        }

        .dropdown-content {
            display: none; /* Hidden by default */
            position: absolute;
            background-color: #101720; /* Background color for dropdown content */
            border: 1.5px solid #fff; /* Border matching the button */
            border-radius: 12px; /* Rounded corners */
            min-width: 160px; /* Minimum width */
            z-index: 1; /* Stack on top */
        }

        .dropdown-content a {
            color: white; /* White text color */
            padding: 12px 16px; /* Padding for links */
            text-decoration: none; /* No underline */
            display: block; /* Block display for links */
            font-family: Impact, sans-serif; /* Font family */
            font-size: 1rem; /* Font size */
            border-bottom: 1px solid #fff; /* Border for separation */
        }

        .dropdown-content a:hover {
            background-color: #303747; /* Background color on hover */
        }

        .dropdown:hover .dropdown-content {
            display: block; /* Show dropdown content on hover */
        }
        
        .text-cloak-container {
            position: absolute;
            top: 60vh; /* Center vertically in the viewport */
            left: 50%; /* Center horizontally in the viewport */
            transform: translate(-50%, -50%); /* Center both horizontally and vertically */
            display: flex; /* Use flexbox for alignment */
            align-items: center; /* Align items vertically in the center */
            gap: 10px; /* Space between the text box and button */
        }

        /* Styling for text box */
        .text-cloak-box {
            height: 40px;
            width: 300px;
            background-color: transparent;
            color: white;
            font-family: Impact, sans-serif;
            font-size: 1.2rem;
            border: 1.5px solid #fff;
            border-radius: 10px;
            padding: 10px;
            margin: 0; /* Remove margin to avoid extra spacing */
            display: block;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        /* Styling for Set Tab Name button */
        .set-tab-name-button {
            height: 40px;
            width: 160px;
            background-color: transparent;
            color: white;
            font-family: Impact, sans-serif;
            font-size: 1.2rem;
            border: 1.5px solid #fff;
            border-radius: 12px;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            margin: 0; /* Remove margin to avoid extra spacing */
        }
        
        .icon-cloak-container {
            position: absolute;
            top: 68vh; /* Center vertically in the viewport */
            left: 50%; /* Center horizontally in the viewport */
            transform: translate(-50%, -50%); /* Center both horizontally and vertically */
            display: flex; /* Use flexbox for alignment */
            align-items: center; /* Align items vertically in the center */
            gap: 10px; /* Space between the text box and button */
        }

        /* Styling for icon text box */
        .icon-cloak-box {
            height: 40px;
            width: 300px;
            background-color: transparent;
            color: white;
            font-family: Impact, sans-serif;
            font-size: 1.2rem;
            border: 1.5px solid #fff;
            border-radius: 10px;
            padding: 10px;
            margin: 0; /* Remove margin to avoid extra spacing */
            display: block;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        /* Styling for Set Tab Icon button */
        .set-tab-icon-button {
            height: 40px;
            width: 160px;
            background-color: transparent;
            color: white;
            font-family: Impact, sans-serif;
            font-size: 1.2rem;
            border: 1.5px solid #fff;
            border-radius: 12px;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            margin: 0; /* Remove margin to avoid extra spacing */
        }
        
        .panic-key-text {
            position: absolute;
            left: 50%; /* Updated position */
            top: 87vh;
            transform: translate(-50%, -50%);
            font-family: Impact, sans-serif;
            font-weight: 300;
            font-size: 1.5rem;
            color: white;
        }
        
        .preset-buttons {
            position: absolute;
            left: 50%; /* Center horizontally */
            top: 74vh; /* Adjust vertical position as needed */
            transform: translateX(-50%); /* Center horizontally */
            display: flex; /* Use flexbox for alignment */
            gap: 10px; /* Space between buttons */
        }

        .preset-button {
            height: 40px; /* Height of each button */
            width: 40px; /* Width of each button */
            background-color: transparent; /* Transparent background */
            background-size: 16px 16px; /* Scale the background image to fit within the button */
            background-position: center; /* Center the background image */
            background-repeat: no-repeat; /* Prevent repeating the background image */
            color: white; /* Text color */
            font-family: Impact, sans-serif; /* Font family */
            font-size: 1.2rem; /* Font size */
            border: 1.5px solid #fff; /* Border */
            border-radius: 8px; /* Slightly rounded corners */
            cursor: pointer; /* Pointer cursor on hover */
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease; /* Smooth transition */
        }

        .preset-button:hover {
            background-color: #303747; /* Slightly visible background on hover */
            color: #fff; /* Ensure text remains white on hover */
            transform: scale(1.1); /* Slightly enlarge the button on hover */
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3); /* Add shadow for 3D effect */
        }
        
        .set-panic-key-container {
            position: absolute;
            top: 94vh; /* Center vertically in the viewport */
            left: 50%; /* Center horizontally in the viewport */
            transform: translate(-50%, -50%); /* Center both horizontally and vertically */
            display: flex; /* Use flexbox for alignment */
            align-items: center; /* Align items vertically in the center */
            gap: 10px; /* Space between the text box and button */
        }

        /* Styling for text box */
        .set-panic-key-box {
            height: 40px;
            width: 300px;
            background-color: transparent;
            color: white;
            font-family: Impact, sans-serif;
            font-size: 1.2rem;
            border: 1.5px solid #fff;
            border-radius: 10px;
            padding: 10px;
            margin: 0; /* Remove margin to avoid extra spacing */
            display: block;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        /* Styling for Set Tab Name button */
        .set-panic-key-button {
            height: 40px;
            width: 160px;
            background-color: transparent;
            color: white;
            font-family: Impact, sans-serif;
            font-size: 1.2rem;
            border: 1.5px solid #fff;
            border-radius: 12px;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            margin: 0; /* Remove margin to avoid extra spacing */
        }
        
        .set-panic-url-container {
            position: absolute;
            top: 102vh; /* Center vertically in the viewport */
            left: 50%; /* Center horizontally in the viewport */
            transform: translate(-50%, -50%); /* Center both horizontally and vertically */
            display: flex; /* Use flexbox for alignment */
            align-items: center; /* Align items vertically in the center */
            gap: 10px; /* Space between the text box and button */
        }

        /* Styling for text box */
        .set-panic-url-box {
            height: 40px;
            width: 300px;
            background-color: transparent;
            color: white;
            font-family: Impact, sans-serif;
            font-size: 1.2rem;
            border: 1.5px solid #fff;
            border-radius: 10px;
            padding: 10px;
            margin: 0; /* Remove margin to avoid extra spacing */
            display: block;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        /* Styling for Set Tab Name button */
        .set-panic-url-button {
            height: 40px;
            width: 160px;
            background-color: transparent;
            color: white;
            font-family: Impact, sans-serif;
            font-size: 1.2rem;
            border: 1.5px solid #fff;
            border-radius: 12px;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            margin: 0; /* Remove margin to avoid extra spacing */
        }
        
        #ad-panic-key {
            position: absolute;
            left: 50%; /* Center the button horizontally */
            top: 8vh; /* Position 20px below the search bar */
            transform: translateX(-50%); /* Center the button horizontally */
            background-color: transparent; /* Transparent background */
            color: white; /* White text color */
            font-family: Impact, sans-serif; /* Font family */
            font-size: 1.2rem; /* Font size */
            border: 1.5px solid #fff; /* 1.5px white border */
            border-radius: 12px; /* Rounded corners */
            padding: 10px 20px; /* Padding for button */
            cursor: pointer; /* Pointer cursor on hover */
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease; /* Smooth transition */
            transform-origin: center; /* Scale from the center */
        }

        #ad-panic-key:hover {
            background-color: #303747; /* Slightly visible white background on hover */
            color: #fff; /* Ensure text remains white on hover */
            transform: translateX(-50%) scale(1.1); /* Slightly enlarge the button on hover */
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3); /* Add shadow for 3D effect */
        }
        
        .hidden-text-container {
            position: absolute;
            top: 120vh;
            width: 100%;
            text-align: center;
        }

        .hidden-text {
            font-size: 24px;
            color: transparent;
        }
    </style>
</head>
<body>
    <header>
        <div class="top-line"></div> <!-- Thin line -->
        <a href="/" class="logo">
            <img src="https://github.com/PlayFlixo/testing-v2/blob/main/assets/images/no-bg-logo.png?raw=true" alt="Project Neutron Logo">
            <span class="logo-text">Project Neutron</span>
        </a>
        <a href="/" class="nav-text home-text">Home</a>
        <a href="/gs" class="nav-text games-text">Games</a>
        <a href="/apps" class="nav-text apps-text">Apps</a>
        <a href="/search" class="nav-text movies-text">Search</a>
        <a href="/settings" class="nav-text tv-text">Settings</a>
        <div class="social-icons">
            <a href="https://discord.gg/nWNcMBQcX6" class="social-icon discord" target="_blank"><i class="fab fa-discord"></i></a>
            <a href="https://www.tiktok.com/@project.neutron" class="social-icon tiktok" target="_blank"><i class="fab fa-tiktok"></i></a>
            <a href="https://www.instagram.com/project.neutron/" class="social-icon instagram" target="_blank"><i class="fab fa-instagram"></i></a>
            <a href="https://www.snapchat.com/add/project.neutron" class="social-icon snap" target="_blank"><i class="fab fa-snapchat"></i></a>
            <a href="https://www.youtube.com/@project.neutron" class="social-icon youtube" target="_blank"><i class="fab fa-youtube"></i></a>
        </div>
        <div class="time-display" id="timeDisplay"></div> <!-- Time display -->
    </header>
    <div class="centered-text">Settings</div>
    <button id="ab-cloak">Open in About:Blank</button>
    <div class="themes-text">Themes</div>
    <div class="dropdown">
        Coming Soon...
    </div>
    <div class="cloak-text">Tab Cloaking</div>
    <div class="text-cloak-container">
        <input type="text" class="text-cloak-box" id="tab-name-input" placeholder="Tab Name">
        <button id="set-tab-name" class="set-tab-name-button">Set Tab Name</button>
    </div>
    <div class="icon-cloak-container">
        <input type="text" class="icon-cloak-box" id="icon-url-input" placeholder="Tab Icon URL">
        <button id="set-tab-icon" class="set-tab-icon-button">Set Icon</button>
    </div>
<div class="preset-buttons">
    <button class="preset-button" data-title="Project Neutron" data-favicon="/assets/images/main-favicon.ico" style="background-image: url('/assets/images/main-favicon.ico');"></button>
    <button class="preset-button" data-title="Google" data-favicon="https://google.com/favicon.ico" style="background-image: url('https://google.com/favicon.ico');"></button>
    <button class="preset-button" data-title="My Drive - Google Drive" data-favicon="https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.png" style="background-image: url('https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.png');"></button>
    <button class="preset-button" data-title="Google Docs" data-favicon="https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico" style="background-image: url('https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico');"></button>
    <button class="preset-button" data-title="Home | Schoology" data-favicon="https://asset-cdn.schoology.com/sites/all/themes/schoology_theme/favicon.ico" style="background-image: url('https://asset-cdn.schoology.com/sites/all/themes/schoology_theme/favicon.ico');"></button>
</div>
    <div class="panic-key-text">Panic Key</div>
    <div class="set-panic-key-container">
        <input type="text" class="set-panic-key-box" placeholder="Panic Key">
        <button id="set-panic-key" class="set-panic-key-button">Set Panic Key</button>
    </div>
    <div class="set-panic-url-container">
        <input type="text" class="set-panic-url-box" placeholder="Panic URL">
        <button id="set-panic-url" class="set-panic-url-button">Set Panic URL</button>
        <button id="ad-panic-key" class="ad-panic-key-button">Auto-Detect Panic Key</button>
    </div>
    <div class="hidden-text-container">
        <p class="hidden-text">Congrats! You found the hidden text!</p>
    </div>
    <script>
        function updateTime() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';

            // Convert to 12-hour format
            hours = hours % 12;
            hours = hours ? hours : 12; // the hour '0' should be '12'

            // Format hours with leading zero if necessary
            const hoursString = String(hours).padStart(2, '0');
            const timeString = `${hoursString}:${minutes}:${seconds} ${ampm}`;
            document.getElementById('timeDisplay').textContent = timeString;
        }

        // Update time every second
        setInterval(updateTime, 1000);

        // Initial call to display time immediately
        updateTime();
    </script>
    <script>
        document.getElementById('ab-cloak').addEventListener('click', function() {
        var win = window.open();
        win.document.body.style.margin = '0';
        win.document.body.style.height = '100vh';
        var iframe = win.document.createElement('iframe');
        win.document.title = "Project Neutron";
        setFavicon('/assets/images/main-favicon.ico');
        iframe.style.border = 'none';
        iframe.style.width = '100%';
        iframe.style.height = '100%';
        iframe.style.margin = '0';
        iframe.src = '/';  // Replace '/' with your desired URL if needed
        win.document.body.appendChild(iframe);
    });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Function to set initial values for the input fields from local storage
            function setInitialValues() {
                // Set the tab name input value to the current document title
                var tabNameInput = document.getElementById('tab-name-input');
                tabNameInput.value = document.title;

                // Set the icon URL input value to the current favicon URL
                var iconUrlInput = document.getElementById('icon-url-input');
                var link = document.querySelector("link[rel='shortcut icon'], link[rel='icon']");

                if (link) {
                    iconUrlInput.value = link.href;
                } else {
                    iconUrlInput.value = ''; // Clear the input if no favicon is set
                }

                // Set the panic key input value from local storage
                var panicKeyInput = document.querySelector('.set-panic-key-box');
                panicKeyInput.value = localStorage.getItem('panickey') || '';

                // Set the panic URL input value from local storage
                var panicUrlInput = document.querySelector('.set-panic-url-box');
                panicUrlInput.value = localStorage.getItem('panicurl') || 'https://google.com';
            }

            // Set initial values on page load
            setInitialValues();

            // Event listener for changing the tab name
            document.getElementById('set-tab-name').addEventListener('click', function() {
                var input = document.getElementById('tab-name-input');
                var newTabName = input.value.trim(); // Get the input value and trim any extra spaces

                if (newTabName) {
                    document.title = newTabName; // Set the page title
                    localStorage.setItem('tabName', newTabName); // Save to local storage
                } else {
                    alert('Please enter a tab name'); // Alert if the input is empty
                }
            });

            // Event listener for changing the favicon
            document.getElementById('set-tab-icon').addEventListener('click', function() {
                var input = document.getElementById('icon-url-input');
                var iconUrl = input.value.trim(); // Get the input value and trim any extra spaces

                if (iconUrl) {
                    var link = document.querySelector("link[rel='shortcut icon'], link[rel='icon']");

                    if (link) {
                        link.href = iconUrl; // Update the href attribute of the existing link
                    } else {
                        // If no link element with rel="shortcut icon" or rel="icon" exists, create one
                        link = document.createElement('link');
                        link.rel = 'icon';
                        link.href = iconUrl;
                        document.head.appendChild(link);
                    }

                    // Save the new favicon URL to local storage
                    localStorage.setItem('iconUrl', iconUrl);
                } else {
                    alert('Please enter a valid icon URL'); // Alert if the input is empty
                }
            });

            // Event listener for setting panic key
            document.getElementById('set-panic-key').addEventListener('click', () => {
                const panicKey = document.querySelector('.set-panic-key-box').value;
                if (panicKey) {
                    localStorage.setItem('panickey', panicKey);
                    alert('Panic key set to ' + panicKey);
                } else {
                    alert('Please enter a panic key.');
                }
            });

            // Event listener for auto-detecting panic key
            document.getElementById('ad-panic-key').addEventListener('click', () => {
                alert('Press any key to set as Panic Key');

                // Add a one-time keydown listener to detect the key
                const handleKeyDown = (e) => {
                    const panicKey = e.key;
                    localStorage.setItem('panickey', panicKey);
                    document.querySelector('.set-panic-key-box').value = panicKey; // Set the key in the input box
                    alert('Panic key set to ' + panicKey);
                    document.removeEventListener('keydown', handleKeyDown); // Remove listener after setting key
                };

                document.addEventListener('keydown', handleKeyDown, { once: true });
            });

            // Event listener for setting panic URL
            document.getElementById('set-panic-url').addEventListener('click', () => {
                const panicUrl = document.querySelector('.set-panic-url-box').value;
                if (!panicUrl) {
                    localStorage.setItem('panicurl', 'https://google.com');
                } else {
                    localStorage.setItem('panicurl', panicUrl);
                }
                alert('Panic URL set to ' + (panicUrl || 'https://google.com'));
            });

            // Handle Panic Key Press
            document.addEventListener('keydown', (e) => {
                const panicKey = localStorage.getItem('panickey');
                const panicUrl = localStorage.getItem('panicurl') || 'https://google.com';

                if (panicKey && e.key === panicKey) {
                    window.location.replace(panicUrl);
                }
            });

            // Event listener for preset buttons
            document.querySelectorAll('.preset-button').forEach(button => {
                button.addEventListener('click', function() {
                    var title = this.getAttribute('data-title');
                    var faviconUrl = this.getAttribute('data-favicon');

                    // Set the page title
                    document.title = title;
                    localStorage.setItem('tabName', title);

                    // Set the favicon
                    var link = document.querySelector("link[rel='shortcut icon'], link[rel='icon']");
                    if (link) {
                        link.href = faviconUrl;
                    } else {
                        link = document.createElement('link');
                        link.rel = 'icon';
                        link.href = faviconUrl;
                        document.head.appendChild(link);
                    }
                    localStorage.setItem('iconUrl', faviconUrl);

                    // Update input fields with new values
                    setInitialValues();
                });
            });
        });
    </script>
</body>
</html>
